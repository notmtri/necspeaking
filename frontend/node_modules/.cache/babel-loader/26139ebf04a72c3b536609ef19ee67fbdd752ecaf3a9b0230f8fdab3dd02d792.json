{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Documents/SpeakUp Project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// App.js - Complete Version with Simulation Feature\nimport React,{useState,useRef,useEffect}from'react';import{Upload,Play,Pause,Download,CheckCircle,AlertCircle,Loader,FileAudio,Settings,Lock,Trash2,Edit3,Mic,Circle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL||'http://127.0.0.1:5000';const ADMIN_PASSWORD='040108Minhtri';export default function SpeakUpApp(){const[currentPage,setCurrentPage]=useState('analyze');const[step,setStep]=useState('input');const[topic,setTopic]=useState('');const[audioFile,setAudioFile]=useState(null);const[audioURL,setAudioURL]=useState(null);const[isPlaying,setIsPlaying]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState(null);const[showAdminPanel,setShowAdminPanel]=useState(false);const[isAuthenticated,setIsAuthenticated]=useState(false);const audioRef=useRef(null);if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('/sw.js').then(reg=>console.log('SW registered: ',reg)).catch(err=>console.log('SW registration failed: ',err));});}useEffect(()=>{return()=>{if(audioURL)URL.revokeObjectURL(audioURL);};},[audioURL]);const handleFileUpload=e=>{const file=e.target.files[0];if(file){setAudioFile(file);const url=URL.createObjectURL(file);setAudioURL(url);setStep('preview');}};const togglePlayback=()=>{if(audioRef.current){if(isPlaying)audioRef.current.pause();else audioRef.current.play();setIsPlaying(!isPlaying);}};const analyzeAudio=async()=>{if(!topic.trim()){setError('Please enter a topic');return;}if(!audioFile){setError('Please upload audio');return;}setStep('uploading');setError(null);const formData=new FormData();formData.append('audio',audioFile);formData.append('topic',topic);try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/analyze\"),{method:'POST',body:formData});const data=await response.json();if(data.success){setResults(data);setStep('results');}else{setError(data.error||'Analysis failed');setStep('preview');}}catch(err){setError('Connection failed. Make sure the backend is running.');setStep('preview');}};const downloadDocument=()=>{if(results&&results.document_url){window.open(\"\".concat(API_BASE_URL).concat(results.document_url),'_blank');}};const reset=()=>{setStep('input');setTopic('');if(audioURL)URL.revokeObjectURL(audioURL);setAudioFile(null);setAudioURL(null);setResults(null);setError(null);setIsPlaying(false);};const openAdminPanel=()=>{const password=prompt('Enter admin password:');if(password===ADMIN_PASSWORD){setIsAuthenticated(true);setShowAdminPanel(true);}else if(password!==null){alert('Incorrect password!');}};const getScoreColor=(score,max)=>{const percentage=score/max*100;if(percentage>=80)return'text-green-400';if(percentage>=60)return'text-yellow-400';return'text-red-400';};return/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'Space Grotesk, ui-sans-serif, system-ui',backgroundColor:'#121212',color:'#d1d1d1'},className:\"min-h-screen\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-50 border-b border-[#222] bg-black\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 select-none\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentPage('analyze');reset();},className:\"font-grotesk text-3xl font-extrabold text-white cursor-pointer\",children:\"necs.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentPage('analyze');reset();},className:\"px-4 py-2 rounded-xl font-medium \".concat(currentPage==='analyze'?'bg-[#1e90ff] text-white':'text-gray-300 hover:bg-gray-800'),children:\"Analyze\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('samples'),className:\"px-4 py-2 rounded-xl font-medium \".concat(currentPage==='samples'?'bg-[#1e90ff] text-white':'text-gray-300 hover:bg-gray-800'),children:\"Samples\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('simulation'),className:\"px-4 py-2 rounded-xl font-medium \".concat(currentPage==='simulation'?'bg-[#1e90ff] text-white':'text-gray-300 hover:bg-gray-800'),children:\"Simulation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openAdminPanel,className:\"p-2.5 rounded-xl text-gray-300 hover:bg-gray-800\",title:\"Admin Panel\",children:/*#__PURE__*/_jsx(Settings,{size:18})})]}),/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"School Logo\",className:\"h-11 w-11 object-cover rounded-none\",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%234F46E5\"/><text x=\"50\" y=\"60\" text-anchor=\"middle\" fill=\"white\" font-size=\"35\" font-family=\"Arial\" font-weight=\"bold\">HS</text></svg>';}})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-5xl mx-auto px-6 py-8\",children:currentPage==='analyze'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-2\",children:step==='results'?'Your Speech Analysis (+/- 0.1)':'Analyze Your Speech'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300\",children:\"Master NEC Speaking with AI-powered feedback\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-3 rounded-xl flex items-center gap-3 bg-red-700/10 border border-red-700/20\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:18}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl p-6 bg-gray-800 border border-gray-700\",children:[step==='input'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-2 text-gray-200\",children:\"Speaking Question\"}),/*#__PURE__*/_jsx(\"textarea\",{value:topic,onChange:e=>setTopic(e.target.value),placeholder:\"Enter the topic or question you'll be speaking about...\",className:\"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-white placeholder-gray-500\",rows:\"4\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"justify-center flex items-center gap-3 px-4 py-3 rounded-xl font-semibold cursor-pointer bg-[#1e90ff] text-white\",children:[/*#__PURE__*/_jsx(Upload,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload Audio File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\",onChange:handleFileUpload,className:\"hidden\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 text-center\",children:\"Supported: MP3, WAV, M4A, WEBM, OGG \\u2022 Max 5 minutes\"})]}),step==='preview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-20 h-20 mb-4 bg-gray-800 rounded-xl\",children:/*#__PURE__*/_jsx(FileAudio,{size:36})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:audioFile===null||audioFile===void 0?void 0:audioFile.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePlayback,className:\"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gray-700 text-white\",children:isPlaying?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Pause,{size:16}),\" Pause\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Play,{size:16}),\" Preview\"]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:analyzeAudio,className:\"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-[#1e90ff] text-white\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\" Analyze Speech\"]})]}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:audioURL,onEnded:()=>setIsPlaying(false)})]}),step==='uploading'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mx-auto mb-4 text-[#1e90ff]\",size:48}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Analyzing your speech...\"})]}),step==='results'&&results&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-6 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-extrabold text-[#1e90ff]\",children:results.scores.total.toFixed(2)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"out of 2.0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[{label:'ðŸ§  Content',score:results.scores.content,max:0.9},{label:'ðŸŽ¯ Accuracy',score:results.scores.accuracy,max:0.6},{label:'ðŸŽ™ï¸ Delivery',score:results.scores.delivery,max:0.5}].map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-xl bg-gray-800 border border-gray-700 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold uppercase mb-2 text-gray-300\",children:item.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-black \".concat(getScoreColor(item.score,item.max)),children:item.score.toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[\"/ \",item.max.toFixed(1)]})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2\",children:\"Detailed Feedback\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83E\\uDDE0 Content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.content})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83C\\uDFAF Accuracy\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.accuracy})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83C\\uDF99\\uFE0F Delivery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.delivery})]})]})]}),results.sample_response&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-xl bg-gray-800 border border-amber-800\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-2\",children:\"Sample 2.0 Response\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300 whitespace-pre-line\",children:results.sample_response})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:downloadDocument,className:\"inline-flex items-center justify-center gap-2 flex-1 py-3 rounded-xl bg-[#1e90ff] text-white\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\" Download Report\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:reset,className:\"py-3 px-6 rounded-xl bg-gray-700\",children:\"New Analysis\"})]})]})]})]}):currentPage==='samples'?/*#__PURE__*/_jsx(SampleLibrary,{}):/*#__PURE__*/_jsx(SimulationMode,{})}),/*#__PURE__*/_jsx(Footer,{setCurrentPage:setCurrentPage}),showAdminPanel&&isAuthenticated&&/*#__PURE__*/_jsx(AdminPanel,{onClose:()=>setShowAdminPanel(false)})]});}function SimulationMode(){const[simStep,setSimStep]=useState('intro');const[currentQuestion,setCurrentQuestion]=useState(null);const[countdown,setCountdown]=useState(60);const[recordingTime,setRecordingTime]=useState(0);const[isRecording,setIsRecording]=useState(false);const[recordedAudioURL,setRecordedAudioURL]=useState(null);const[recordedBlob,setRecordedBlob]=useState(null);const[results,setResults]=useState(null);const[error,setError]=useState(null);const[micTested,setMicTested]=useState(false);const mediaRecorderRef=useRef(null);const audioChunksRef=useRef([]);const timerRef=useRef(null);useEffect(()=>{return()=>{if(timerRef.current)clearInterval(timerRef.current);if(recordedAudioURL)URL.revokeObjectURL(recordedAudioURL);};},[recordedAudioURL]);const testMicrophone=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});stream.getTracks().forEach(track=>track.stop());setMicTested(true);alert('Microphone test successful! You can now proceed.');}catch(err){alert('Microphone access denied. Please enable microphone permissions.');}};const startSimulation=async()=>{if(!micTested){alert('Please test your microphone first!');return;}try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/questions/random\"));const data=await response.json();if(data.error){setError('No questions available. Please add questions in admin panel.');return;}setCurrentQuestion(data.question);setSimStep('reading');setCountdown(60);timerRef.current=setInterval(()=>{setCountdown(prev=>{if(prev<=1){clearInterval(timerRef.current);setSimStep('preparation');setCountdown(300);startPreparationTimer();return 0;}return prev-1;});},1000);}catch(err){setError('Failed to load question. Check your connection.');}};const skipReading=()=>{clearInterval(timerRef.current);setSimStep('preparation');setCountdown(300);startPreparationTimer();};const startPreparationTimer=()=>{timerRef.current=setInterval(()=>{setCountdown(prev=>{if(prev<=1){clearInterval(timerRef.current);startRecordingAuto();return 0;}return prev-1;});},1000);};const startRecordingAuto=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const mediaRecorder=new MediaRecorder(stream);mediaRecorderRef.current=mediaRecorder;audioChunksRef.current=[];mediaRecorder.ondataavailable=event=>{if(event.data.size>0){audioChunksRef.current.push(event.data);}};mediaRecorder.onstop=()=>{const audioBlob=new Blob(audioChunksRef.current,{type:'audio/webm'});const audioUrl=URL.createObjectURL(audioBlob);setRecordedAudioURL(audioUrl);setRecordedBlob(audioBlob);stream.getTracks().forEach(track=>track.stop());};mediaRecorder.start();setIsRecording(true);setSimStep('recording');setRecordingTime(0);// Clear any existing timer first\nif(timerRef.current){clearInterval(timerRef.current);}// Start new timer\ntimerRef.current=setInterval(()=>{setRecordingTime(prev=>{const newTime=prev+1;if(newTime>=300){clearInterval(timerRef.current);timerRef.current=null;stopRecording();return 300;}return newTime;});},1000);}catch(err){setError('Failed to start recording. Check microphone permissions.');}};const stopRecording=()=>{if(timerRef.current){clearInterval(timerRef.current);timerRef.current=null;}if(mediaRecorderRef.current&&mediaRecorderRef.current.state!=='inactive'){mediaRecorderRef.current.stop();console.log('Recording stopped at:',recordingTime,'seconds');}setIsRecording(false);setSimStep('playback');};const analyzeRecording=async()=>{if(!recordedBlob||!currentQuestion)return;setSimStep('analyzing');const formData=new FormData();formData.append('audio',recordedBlob,'recording.webm');formData.append('topic',currentQuestion.question);try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/analyze\"),{method:'POST',body:formData});const data=await response.json();if(data.success){setResults(data);setSimStep('results');}else{setError(data.error||'Analysis failed');setSimStep('playback');}}catch(err){setError('Connection failed. Make sure the backend is running.');setSimStep('playback');}};const resetSimulation=()=>{setSimStep('intro');setCurrentQuestion(null);setCountdown(60);setRecordingTime(0);setIsRecording(false);if(recordedAudioURL)URL.revokeObjectURL(recordedAudioURL);setRecordedAudioURL(null);setRecordedBlob(null);setResults(null);setError(null);if(timerRef.current)clearInterval(timerRef.current);};const downloadRecording=()=>{if(recordedBlob){const url=URL.createObjectURL(recordedBlob);const a=document.createElement('a');a.href=url;a.download=\"simulation_\".concat(Date.now(),\".webm\");a.click();URL.revokeObjectURL(url);}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs<10?'0':'').concat(secs);};const getScoreColor=(score,max)=>{const percentage=score/max*100;if(percentage>=80)return'text-green-400';if(percentage>=60)return'text-yellow-400';return'text-red-400';};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-2\",children:\"NEC Speaking Simulation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300\",children:\"Experience the real test interface\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-3 rounded-xl flex items-center gap-3 bg-red-700/10 border border-red-700/20\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:18}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl p-8 bg-gray-800 border border-gray-700\",children:[simStep==='intro'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83C\\uDFA4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"NEC Speaking Simulation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left max-w-md mx-auto space-y-3 text-gray-300\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#1e90ff] font-bold\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Please prepare pen and paper for drafting ideas\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#1e90ff] font-bold\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"You will have 60 seconds to read the question\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#1e90ff] font-bold\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Then 5 minutes to prepare your response\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#1e90ff] font-bold\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Recording will last exactly 5 minutes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:testMicrophone,className:\"w-full py-3 rounded-xl font-semibold \".concat(micTested?'bg-green-600 text-white':'bg-gray-700 text-white hover:bg-gray-600'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Mic,{size:18}),micTested?'Microphone Ready âœ“':'Test Microphone']})}),/*#__PURE__*/_jsx(\"button\",{onClick:startSimulation,disabled:!micTested,className:\"w-full py-3 rounded-xl font-semibold \".concat(micTested?'bg-[#1e90ff] text-white hover:bg-[#1a7be6]':'bg-gray-600 text-gray-400 cursor-not-allowed'),children:\"Start Simulation\"})]})]}),simStep==='reading'&&currentQuestion&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-extrabold text-[#1e90ff] mb-2\",children:formatTime(countdown)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Time to read the question\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-xl bg-gray-900 border border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs font-bold uppercase text-gray-400 mb-2\",children:[\"Question \",currentQuestion.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-300 mb-3\",children:currentQuestion.topic}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg text-white\",children:currentQuestion.question})]}),/*#__PURE__*/_jsx(\"button\",{onClick:skipReading,className:\"w-full py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\",children:\"Finish Reading Question\"})]}),simStep==='preparation'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u270D\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Preparation Time\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-extrabold text-[#1e90ff]\",children:formatTime(countdown)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:currentQuestion.question}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-700 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#1e90ff] h-3 rounded-full transition-all\",style:{width:\"\".concat((300-countdown)/300*100,\"%\")}})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{clearInterval(timerRef.current);startRecordingAuto();},className:\"px-6 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold hover:bg-[#1a7be6]\",children:\"Skip Preparation & Start Recording\"})]}),simStep==='recording'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(Circle,{className:\"text-red-500 animate-pulse\",size:48,fill:\"currentColor\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-red-500\",children:\"Recording...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-extrabold text-white\",children:formatTime(recordingTime)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:currentQuestion.question}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-700 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500 h-3 rounded-full transition-all\",style:{width:\"\".concat(recordingTime/300*100,\"%\")}})}),/*#__PURE__*/_jsx(\"button\",{onClick:stopRecording,className:\"px-6 py-3 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700\",children:\"Stop Recording Early\"})]}),simStep==='playback'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Recording Complete!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300\",children:[\"Duration: \",formatTime(recordingTime)]}),/*#__PURE__*/_jsx(AudioPlayback,{audioUrl:recordedAudioURL}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:analyzeRecording,className:\"flex-1 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\",children:\"Analyze My Speech\"}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadRecording,className:\"px-6 py-3 rounded-xl bg-gray-700 text-white font-semibold\",children:/*#__PURE__*/_jsx(Download,{size:18})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetSimulation,className:\"w-full py-3 rounded-xl bg-gray-700 text-white\",children:\"Start New Simulation\"})]}),simStep==='analyzing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mx-auto mb-4 text-[#1e90ff]\",size:48}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Analyzing your speech...\"})]}),simStep==='results'&&results&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-center\",children:\"Your Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-6 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-extrabold text-[#1e90ff]\",children:results.scores.total.toFixed(2)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"out of 2.0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[{label:'ðŸ§  Content',score:results.scores.content,max:0.9},{label:'ðŸŽ¯ Accuracy',score:results.scores.accuracy,max:0.6},{label:'ðŸŽ™ï¸ Delivery',score:results.scores.delivery,max:0.5}].map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-xl bg-gray-800 border border-gray-700 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold uppercase mb-2 text-gray-300\",children:item.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-black \".concat(getScoreColor(item.score,item.max)),children:item.score.toFixed(2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[\"/ \",item.max.toFixed(1)]})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-2\",children:\"Detailed Feedback\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83E\\uDDE0 Content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.content})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83C\\uDFAF Accuracy\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.accuracy})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-xl bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"\\uD83C\\uDF99\\uFE0F Delivery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:results.feedback.delivery})]})]})]}),results.sample_response&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-xl bg-gray-800 border border-amber-800\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-2\",children:\"Sample 2.0 Response\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300 whitespace-pre-line\",children:results.sample_response})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open(\"http://127.0.0.1:5000\".concat(results.document_url),'_blank'),className:\"flex-1 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Download Report\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadRecording,className:\"px-6 py-3 rounded-xl bg-gray-700 text-white font-semibold\",children:/*#__PURE__*/_jsx(Download,{size:18})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetSimulation,className:\"w-full py-3 rounded-xl bg-gray-700 text-white\",children:\"Start New Simulation\"})]})]})]});}function AudioPlayback(_ref){let{audioUrl}=_ref;const[isPlaying,setIsPlaying]=useState(false);const[progress,setProgress]=useState(0);const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const audioRef=useRef(null);const togglePlay=()=>{if(!audioRef.current)return;if(isPlaying){audioRef.current.pause();}else{audioRef.current.play();}setIsPlaying(!isPlaying);};const handleTimeUpdate=()=>{const audio=audioRef.current;if(audio&&audio.duration){setCurrentTime(audio.currentTime);setProgress(audio.currentTime/audio.duration*100);}};const handleSeek=e=>{const audio=audioRef.current;if(audio&&audio.duration){const newTime=e.target.value/100*audio.duration;audio.currentTime=newTime;}};const formatTime=time=>{const mins=Math.floor(time/60);const secs=Math.floor(time%60);return\"\".concat(mins,\":\").concat(secs<10?'0':'').concat(secs);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-900 rounded-xl border border-gray-700\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:audioUrl,onTimeUpdate:handleTimeUpdate,onLoadedMetadata:()=>setDuration(audioRef.current.duration),onEnded:()=>setIsPlaying(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"flex items-center justify-center w-12 h-12 rounded-full bg-[#1e90ff] text-white hover:bg-[#1a7be6] transition\",children:isPlaying?/*#__PURE__*/_jsx(Pause,{size:20}):/*#__PURE__*/_jsx(Play,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",value:progress,onChange:handleSeek,className:\"w-full accent-[#1e90ff]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-400 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatTime(currentTime)}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(duration)})]})]})]})]});}function PlaybackBar(_ref2){let{audioUrl,onClose}=_ref2;const[isPlaying,setIsPlaying]=useState(false);const[progress,setProgress]=useState(0);const[duration,setDuration]=useState(0);const[currentTime,setCurrentTime]=useState(0);const audioRef=useRef(null);const togglePlay=()=>{if(!audioRef.current)return;if(isPlaying){audioRef.current.pause();}else{audioRef.current.play();}setIsPlaying(!isPlaying);};const handleTimeUpdate=()=>{const audio=audioRef.current;if(audio&&audio.duration){setCurrentTime(audio.currentTime);setProgress(audio.currentTime/audio.duration*100);}};const handleSeek=e=>{const audio=audioRef.current;const newTime=e.target.value/100*audio.duration;audio.currentTime=newTime;};const formatTime=time=>{const mins=Math.floor(time/60);const secs=Math.floor(time%60);return\"\".concat(mins,\":\").concat(secs<10?'0':'').concat(secs);};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-0 left-0 right-0 z-50 bg-[#000] border-t border-[#222] p-3 flex items-center justify-between gap-4\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:audioUrl,onTimeUpdate:handleTimeUpdate,onLoadedMetadata:()=>setDuration(audioRef.current.duration),onEnded:()=>setIsPlaying(false)}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"flex items-center justify-center w-10 h-10 rounded-full bg-[#1e90ff] text-white hover:bg-[#1a7be6] transition\",children:isPlaying?/*#__PURE__*/_jsx(Pause,{size:20}):/*#__PURE__*/_jsx(Play,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col items-center text-sm text-[#d1d1d1]\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",value:progress,onChange:handleSeek,className:\"w-full accent-[#1e90ff]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-full text-xs text-[#888] mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatTime(currentTime)}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(duration)})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-[#888] hover:text-[#d1d1d1]\",children:\"\\xD7\"})]});}function AdminPanel(_ref3){let{onClose}=_ref3;const[activeTab,setActiveTab]=useState('upload');const[audioFile,setAudioFile]=useState(null);const[topic,setTopic]=useState('');const[question,setQuestion]=useState('');const[speaker,setSpeaker]=useState('');const[score,setScore]=useState('2.0');const[transcript,setTranscript]=useState('');const[feedback,setFeedback]=useState('');const[uploading,setUploading]=useState(false);const[message,setMessage]=useState('');const[samples,setSamples]=useState([]);const[loadingSamples,setLoadingSamples]=useState(true);const[editingId,setEditingId]=useState(null);const[editData,setEditData]=useState({});const[questions,setQuestions]=useState([]);const[loadingQuestions,setLoadingQuestions]=useState(true);const[newQuestionTopic,setNewQuestionTopic]=useState('');const[newQuestionText,setNewQuestionText]=useState('');const[newQuestionCategory,setNewQuestionCategory]=useState('General');const[editingQuestionId,setEditingQuestionId]=useState(null);const[editQuestionData,setEditQuestionData]=useState({});useEffect(()=>{if(activeTab==='manage')fetchSamples();if(activeTab==='questions')fetchQuestions();},[activeTab]);const fetchSamples=async()=>{setLoadingSamples(true);try{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/samples\"));const data=await res.json();setSamples(data.samples||[]);}catch(e){console.error(e);}finally{setLoadingSamples(false);}};const fetchQuestions=async()=>{setLoadingQuestions(true);try{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/questions\"));const data=await res.json();setQuestions(data.questions||[]);}catch(e){console.error(e);}finally{setLoadingQuestions(false);}};const handleUpload=async()=>{if(!audioFile||!topic||!speaker||!transcript||!feedback){setMessage('Please fill in all fields');return;}setUploading(true);setMessage('');const formData=new FormData();formData.append('audio',audioFile);formData.append('topic',topic);formData.append('question',question);formData.append('speaker',speaker);formData.append('score',score);formData.append('transcript',transcript);formData.append('feedback',feedback);try{const response=await fetch(\"\".concat(API_BASE_URL,\"/api/samples/upload\"),{method:'POST',body:formData});const data=await response.json();if(data.success){setMessage('âœ“ Sample uploaded successfully!');setAudioFile(null);setTopic('');setQuestion('');setSpeaker('');setScore('2.0');setTranscript('');setFeedback('');}else setMessage('Error: '+(data.error||'Upload failed'));}catch(err){setMessage('Error: Connection failed');}finally{setUploading(false);}};const startEdit=sample=>{setEditingId(sample.id);setEditData({topic:sample.topic||'',question:sample.question||'',speaker:sample.speaker||'',score:String(sample.score||''),transcript:sample.transcript||'',feedback:sample.feedback||''});};const cancelEdit=()=>{setEditingId(null);setEditData({});};const saveEdit=async()=>{try{const form=new FormData();form.append('topic',editData.topic);form.append('speaker',editData.speaker);form.append('score',editData.score);form.append('question',editData.question);form.append('transcript',editData.transcript);form.append('feedback',editData.feedback);const res=await fetch(\"\".concat(API_BASE_URL,\"/samples/\").concat(editingId),{method:'PUT',body:form});const data=await res.json();if(data.success){setMessage('âœ“ Updated successfully');await fetchSamples();cancelEdit();}else setMessage('Error: '+(data.error||'Update failed'));}catch(e){setMessage('Error: Connection failed');}};const deleteSample=async id=>{if(!confirm('Delete this sample?'))return;try{const res=await fetch(\"\".concat(API_BASE_URL,\"/samples/\").concat(id),{method:'DELETE'});const data=await res.json();if(data.success){setMessage('âœ“ Deleted successfully');await fetchSamples();}else setMessage('Error: '+(data.error||'Delete failed'));}catch(e){setMessage('Error: Connection failed');}};const addQuestion=async()=>{if(!newQuestionTopic||!newQuestionText){setMessage('Please fill in topic and question');return;}try{const res=await fetch(\"\".concat(API_BASE_URL,\"/questions\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({topic:newQuestionTopic,question:newQuestionText,category:newQuestionCategory})});const data=await res.json();if(data.success){setMessage('âœ“ Question added successfully!');setNewQuestionTopic('');setNewQuestionText('');setNewQuestionCategory('General');await fetchQuestions();}else setMessage('Error: '+(data.error||'Failed to add question'));}catch(e){setMessage('Error: Connection failed');}};const startEditQuestion=q=>{setEditingQuestionId(q.id);setEditQuestionData({topic:q.topic||'',question:q.question||'',category:q.category||'General'});};const cancelEditQuestion=()=>{setEditingQuestionId(null);setEditQuestionData({});};const saveEditQuestion=async()=>{try{const res=await fetch(\"\".concat(API_BASE_URL,\"/questions/\").concat(editingQuestionId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(editQuestionData)});const data=await res.json();if(data.success){setMessage('âœ“ Question updated');await fetchQuestions();cancelEditQuestion();}else setMessage('Error: '+(data.error||'Update failed'));}catch(e){setMessage('Error: Connection failed');}};const deleteQuestion=async id=>{if(!confirm('Delete this question?'))return;try{const res=await fetch(\"\".concat(API_BASE_URL,\"/questions/\").concat(id),{method:'DELETE'});const data=await res.json();if(data.success){setMessage('âœ“ Question deleted');await fetchQuestions();}else setMessage('Error: '+(data.error||'Delete failed'));}catch(e){setMessage('Error: Connection failed');}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6 bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Admin Panel\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-xl font-bold\",children:\"\\xD7\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 rounded-md bg-green-700/10 border border-green-700/20\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('upload'),className:\"px-3 py-2 rounded \".concat(activeTab==='upload'?'bg-[#1e90ff] text-white':'bg-gray-700'),children:\"Upload Sample\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('manage'),className:\"px-3 py-2 rounded \".concat(activeTab==='manage'?'bg-[#1e90ff] text-white':'bg-gray-700'),children:\"Manage Samples\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('questions'),className:\"px-3 py-2 rounded \".concat(activeTab==='questions'?'bg-[#1e90ff] text-white':'bg-gray-700'),children:\"Question Bank\"})]}),activeTab==='upload'?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Audio File *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\",onChange:e=>setAudioFile(e.target.files[0]),className:\"w-full text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Topic *\"}),/*#__PURE__*/_jsx(\"input\",{value:topic,onChange:e=>setTopic(e.target.value),className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Speaking Question\"}),/*#__PURE__*/_jsx(\"textarea\",{value:question,onChange:e=>setQuestion(e.target.value),rows:\"2\",className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Speaker *\"}),/*#__PURE__*/_jsx(\"input\",{value:speaker,onChange:e=>setSpeaker(e.target.value),className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Score *\"}),/*#__PURE__*/_jsx(\"input\",{value:score,onChange:e=>setScore(e.target.value),className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Transcript *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:transcript,onChange:e=>setTranscript(e.target.value),rows:\"5\",className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold mb-1\",children:\"Why This Sample Scored High *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:feedback,onChange:e=>setFeedback(e.target.value),rows:\"4\",className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:uploading,className:\"w-full py-3 rounded bg-[#1e90ff] text-white\",children:uploading?'Uploading...':'Upload Sample'})]}):activeTab==='manage'?/*#__PURE__*/_jsx(\"div\",{children:loadingSamples?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mx-auto mb-2\",size:36}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading samples...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:samples.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-900 border border-gray-700 rounded flex flex-col gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:s.topic}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[s.speaker,\" \\u2022 \",s.score,\"/2.0\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(s),className:\"px-2 py-1 rounded bg-blue-600 text-white\",children:/*#__PURE__*/_jsx(Edit3,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteSample(s.id),className:\"px-2 py-1 rounded bg-red-600 text-white\",children:/*#__PURE__*/_jsx(Trash2,{size:14})}),/*#__PURE__*/_jsx(\"a\",{href:s.audioUrl,target:\"_blank\",rel:\"noreferrer\",className:\"px-2 py-1 rounded bg-gray-700\",children:\"Open\"})]})]}),editingId===s.id?/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:editData.topic,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{topic:e.target.value})),placeholder:\"Topic\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsx(\"input\",{value:editData.speaker,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{speaker:e.target.value})),placeholder:\"Speaker\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsx(\"input\",{value:editData.score,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{score:e.target.value})),placeholder:\"Score\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editData.question,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{question:e.target.value})),rows:\"2\",placeholder:\"Question\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editData.transcript,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{transcript:e.target.value})),rows:\"3\",placeholder:\"Transcript\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editData.feedback,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{feedback:e.target.value})),rows:\"2\",placeholder:\"Feedback\",className:\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveEdit,className:\"px-3 py-2 rounded bg-green-600\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"px-3 py-2 rounded bg-gray-700\",children:\"Cancel\"})]})]}):null]},s.id))})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-900 rounded-xl border border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-3\",children:\"Add New Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:newQuestionTopic,onChange:e=>setNewQuestionTopic(e.target.value),placeholder:\"Source\",className:\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newQuestionText,onChange:e=>setNewQuestionText(e.target.value),placeholder:\"Question text...\",rows:\"3\",className:\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsx(\"input\",{value:newQuestionCategory,onChange:e=>setNewQuestionCategory(e.target.value),placeholder:\"Category (optional)\",className:\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addQuestion,className:\"w-full py-2 rounded bg-[#1e90ff] text-white font-semibold\",children:\"Add Question\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold mb-3\",children:[\"Question Bank (\",questions.length,\" questions)\"]}),loadingQuestions?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mx-auto\",size:36})}):questions.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-400\",children:\"No questions yet. Add your first question above!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:questions.map(q=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-900 border border-gray-700 rounded\",children:editingQuestionId===q.id?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:editQuestionData.topic,onChange:e=>setEditQuestionData(_objectSpread(_objectSpread({},editQuestionData),{},{topic:e.target.value})),className:\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editQuestionData.question,onChange:e=>setEditQuestionData(_objectSpread(_objectSpread({},editQuestionData),{},{question:e.target.value})),rows:\"3\",className:\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsx(\"input\",{value:editQuestionData.category,onChange:e=>setEditQuestionData(_objectSpread(_objectSpread({},editQuestionData),{},{category:e.target.value})),className:\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveEditQuestion,className:\"px-3 py-2 rounded bg-green-600\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditQuestion,className:\"px-3 py-2 rounded bg-gray-700\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:q.topic}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:q.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditQuestion(q),className:\"px-2 py-1 rounded bg-blue-600\",children:/*#__PURE__*/_jsx(Edit3,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteQuestion(q.id),className:\"px-2 py-1 rounded bg-red-600\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-300\",children:q.question})]})},q.id))})]})]})]})});}function SampleLibrary(){var _samples$find;const[samples,setSamples]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[selectedSample,setSelectedSample]=useState(null);const[playingId,setPlayingId]=useState(null);const audioRef=useRef(null);useEffect(()=>{fetchSamples();},[]);const fetchSamples=async()=>{try{const res=await fetch(\"\".concat(API_BASE_URL,\"/samples\"));const data=await res.json();setSamples(data.samples||[]);}catch(e){console.error(e);}finally{setLoading(false);}};const filteredSamples=samples.filter(sample=>sample.topic.toLowerCase().includes(searchTerm.toLowerCase())||(sample.speaker||'').toLowerCase().includes(searchTerm.toLowerCase())||(sample.tags||[]).some(tag=>tag.toLowerCase().includes(searchTerm.toLowerCase())));const toggleAudio=(sampleId,audioUrl)=>{if(playingId===sampleId){var _audioRef$current;(_audioRef$current=audioRef.current)===null||_audioRef$current===void 0?void 0:_audioRef$current.pause();setPlayingId(null);}else{if(audioRef.current){audioRef.current.src=audioUrl;audioRef.current.play();setPlayingId(sampleId);}}};const downloadAudio=filename=>{const link=document.createElement('a');link.href=\"\".concat(API_BASE_URL,\"/api/samples/download/\").concat(filename);link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);};if(loading)return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mx-auto mb-2\",size:36}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading samples...\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-1\",children:\"Sample Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Learn from high-scoring speeches\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-800 border border-gray-700 rounded\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by topic, speaker, or tag...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"})}),filteredSamples.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-6 bg-gray-800 border border-gray-700 rounded\",children:\"No samples found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:filteredSamples.map(sample=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-800 border border-gray-700 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold\",children:sample.topic}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:sample.speaker})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-black text-[#1e90ff]\",children:sample.score})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 text-sm text-[#d1d1d1] italic\",children:sample.question||'(no question provided)'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleAudio(sample.id,sample.audioUrl),className:\"px-3 py-2 rounded bg-gray-700\",children:\"Playback\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadAudio(sample.filename),className:\"px-3 py-2 rounded bg-gray-700\",children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSample(sample),className:\"px-3 py-2 rounded bg-[#1e90ff] text-white\",children:\"View\"})]})]},sample.id))}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,onEnded:()=>setPlayingId(null),onPause:()=>setPlayingId(null)}),playingId&&/*#__PURE__*/_jsx(PlaybackBar,{audioUrl:(_samples$find=samples.find(s=>s.id===playingId))===null||_samples$find===void 0?void 0:_samples$find.audioUrl,onClose:()=>{var _audioRef$current2;(_audioRef$current2=audioRef.current)===null||_audioRef$current2===void 0?void 0:_audioRef$current2.pause();setPlayingId(null);}}),selectedSample&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl max-w-3xl w-full max-h-[85vh] overflow-y-auto p-6 bg-gray-800 border border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-1\",children:selectedSample.topic}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[selectedSample.speaker,\" \\u2022 \",selectedSample.score,\"/2.0\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSample(null),className:\"text-xl font-bold\",children:\"\\xD7\"})]}),selectedSample.transcript&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-2\",children:\"Transcript\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded bg-gray-900 border border-gray-700 text-sm text-gray-300\",children:selectedSample.transcript})]}),selectedSample.feedback&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-2\",children:\"Why This Speech Scored High\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded bg-gray-900 border border-gray-700 text-sm text-gray-300\",children:selectedSample.feedback})]})]})})]});}function Footer(_ref4){let{setCurrentPage}=_ref4;return/*#__PURE__*/_jsx(\"footer\",{className:\"mt-16 border-t border-[#222] bg-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-12 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-8 text-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"necs.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"AI-powered speech analysis platform for NEC Speaking preparation. Practice, improve, and excel.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Quick Links\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('analyze'),className:\"text-gray-400 hover:text-[#1e90ff] transition\",children:\"Speech Evaluation\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('samples'),className:\"text-gray-400 hover:text-[#1e90ff] transition\",children:\"Sample Library\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('simulation'),className:\"text-gray-400 hover:text-[#1e90ff] transition\",children:\"NEC Speaking Simulation\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open('/necs_user_manual.pdf','_blank'),className:\"text-gray-400 hover:text-[#1e90ff] transition\",children:\" necs. User Manual \"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Connect with me\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://facebook.com/notmtri\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"Facebook\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://youtube.com/@therealmtri\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"YouTube\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://instagram.com/notmtri\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"Instagram\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:nguyenhoangminhtri2k8@gmail.com\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"Email\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Contact necs.\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://instagram.com/necspeaking\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"Instagram\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:necspeaking@gmail.com\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://forms.gle/rshYXP6niQ7NR3G68\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"For User Feedback\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://forms.gle/SKY6RSRoQXLehJUL6\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\",children:\"For Samples Contributions\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 pt-8 border-t border-[#222] text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Developed by Nguyen Hoang Minh Tri | English 1 (23-26) | HSGS Le Quy Don - Nam Nha Trang\"})})]})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","Upload","Play","Pause","Download","CheckCircle","AlertCircle","Loader","FileAudio","Settings","Lock","Trash2","Edit3","Mic","Circle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","ADMIN_PASSWORD","SpeakUpApp","currentPage","setCurrentPage","step","setStep","topic","setTopic","audioFile","setAudioFile","audioURL","setAudioURL","isPlaying","setIsPlaying","results","setResults","error","setError","showAdminPanel","setShowAdminPanel","isAuthenticated","setIsAuthenticated","audioRef","navigator","window","addEventListener","serviceWorker","register","then","reg","console","log","catch","err","URL","revokeObjectURL","handleFileUpload","e","file","target","files","url","createObjectURL","togglePlayback","current","pause","play","analyzeAudio","trim","formData","FormData","append","response","fetch","concat","method","body","data","json","success","downloadDocument","document_url","open","reset","openAdminPanel","password","prompt","alert","getScoreColor","score","max","percentage","style","fontFamily","backgroundColor","color","className","children","onClick","title","size","src","alt","onError","value","onChange","placeholder","rows","type","accept","name","ref","onEnded","scores","total","toFixed","label","content","accuracy","delivery","map","item","idx","feedback","sample_response","SampleLibrary","SimulationMode","Footer","AdminPanel","onClose","simStep","setSimStep","currentQuestion","setCurrentQuestion","countdown","setCountdown","recordingTime","setRecordingTime","isRecording","setIsRecording","recordedAudioURL","setRecordedAudioURL","recordedBlob","setRecordedBlob","micTested","setMicTested","mediaRecorderRef","audioChunksRef","timerRef","clearInterval","testMicrophone","stream","mediaDevices","getUserMedia","audio","getTracks","forEach","track","stop","startSimulation","question","setInterval","prev","startPreparationTimer","skipReading","startRecordingAuto","mediaRecorder","MediaRecorder","ondataavailable","event","push","onstop","audioBlob","Blob","audioUrl","start","newTime","stopRecording","state","analyzeRecording","resetSimulation","downloadRecording","a","document","createElement","href","download","Date","now","click","formatTime","seconds","mins","Math","floor","secs","disabled","id","width","fill","AudioPlayback","_ref","progress","setProgress","currentTime","setCurrentTime","duration","setDuration","togglePlay","handleTimeUpdate","handleSeek","time","onTimeUpdate","onLoadedMetadata","PlaybackBar","_ref2","_ref3","activeTab","setActiveTab","setQuestion","speaker","setSpeaker","setScore","transcript","setTranscript","setFeedback","uploading","setUploading","message","setMessage","samples","setSamples","loadingSamples","setLoadingSamples","editingId","setEditingId","editData","setEditData","questions","setQuestions","loadingQuestions","setLoadingQuestions","newQuestionTopic","setNewQuestionTopic","newQuestionText","setNewQuestionText","newQuestionCategory","setNewQuestionCategory","editingQuestionId","setEditingQuestionId","editQuestionData","setEditQuestionData","fetchSamples","fetchQuestions","res","handleUpload","startEdit","sample","String","cancelEdit","saveEdit","form","deleteSample","confirm","addQuestion","headers","JSON","stringify","category","startEditQuestion","q","cancelEditQuestion","saveEditQuestion","deleteQuestion","s","rel","_objectSpread","length","_samples$find","loading","setLoading","searchTerm","setSearchTerm","selectedSample","setSelectedSample","playingId","setPlayingId","filteredSamples","filter","toLowerCase","includes","tags","some","tag","toggleAudio","sampleId","_audioRef$current","downloadAudio","filename","link","appendChild","removeChild","onPause","find","_audioRef$current2","_ref4"],"sources":["C:/Users/ADMIN/Documents/SpeakUp Project/frontend/src/App.js"],"sourcesContent":["// App.js - Complete Version with Simulation Feature\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Upload, Play, Pause, Download, CheckCircle, AlertCircle, Loader, FileAudio, Settings, Lock, Trash2, Edit3, Mic, Circle } from 'lucide-react';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:5000';\nconst ADMIN_PASSWORD = '040108Minhtri';\n\nexport default function SpeakUpApp() {\n  const [currentPage, setCurrentPage] = useState('analyze');\n  const [step, setStep] = useState('input');\n  const [topic, setTopic] = useState('');\n  const [audioFile, setAudioFile] = useState(null);\n  const [audioURL, setAudioURL] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const audioRef = useRef(null);\n\n  if ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker.register('/sw.js')\n      .then(reg => console.log('SW registered: ', reg))\n      .catch(err => console.log('SW registration failed: ', err));\n  });\n}\n\n  useEffect(() => {\n    return () => {\n      if (audioURL) URL.revokeObjectURL(audioURL);\n    };\n  }, [audioURL]);\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setAudioFile(file);\n      const url = URL.createObjectURL(file);\n      setAudioURL(url);\n      setStep('preview');\n    }\n  };\n\n  const togglePlayback = () => {\n    if (audioRef.current) {\n      if (isPlaying) audioRef.current.pause();\n      else audioRef.current.play();\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const analyzeAudio = async () => {\n    if (!topic.trim()) {\n      setError('Please enter a topic');\n      return;\n    }\n    if (!audioFile) {\n      setError('Please upload audio');\n      return;\n    }\n\n    setStep('uploading');\n    setError(null);\n\n    const formData = new FormData();\n    formData.append('audio', audioFile);\n    formData.append('topic', topic);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/analyze`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setResults(data);\n        setStep('results');\n      } else {\n        setError(data.error || 'Analysis failed');\n        setStep('preview');\n      }\n    } catch (err) {\n      setError('Connection failed. Make sure the backend is running.');\n      setStep('preview');\n    }\n  };\n\n  const downloadDocument = () => {\n    if (results && results.document_url) {\n      window.open(`${API_BASE_URL}${results.document_url}`, '_blank');\n    }\n  };\n\n  const reset = () => {\n    setStep('input');\n    setTopic('');\n    if (audioURL) URL.revokeObjectURL(audioURL);\n    setAudioFile(null);\n    setAudioURL(null);\n    setResults(null);\n    setError(null);\n    setIsPlaying(false);\n  };\n\n  const openAdminPanel = () => {\n    const password = prompt('Enter admin password:');\n    if (password === ADMIN_PASSWORD) {\n      setIsAuthenticated(true);\n      setShowAdminPanel(true);\n    } else if (password !== null) {\n      alert('Incorrect password!');\n    }\n  };\n\n  const getScoreColor = (score, max) => {\n    const percentage = (score / max) * 100;\n    if (percentage >= 80) return 'text-green-400';\n    if (percentage >= 60) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n\n  return (\n    <div style={{fontFamily: 'Space Grotesk, ui-sans-serif, system-ui', backgroundColor: '#121212', color: '#d1d1d1'}} className=\"min-h-screen\">\n      <header className=\"sticky top-0 z-50 border-b border-[#222] bg-black\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2 select-none\">\n              <button \n                onClick={() => { setCurrentPage('analyze'); reset(); }}\n                className=\"font-grotesk text-3xl font-extrabold text-white cursor-pointer\"\n              >\n                necs.\n              </button>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <nav className=\"flex gap-2\">\n                <button\n                  onClick={() => { setCurrentPage('analyze'); reset(); }}\n                  className={`px-4 py-2 rounded-xl font-medium ${currentPage === 'analyze' ? 'bg-[#1e90ff] text-white' : 'text-gray-300 hover:bg-gray-800'}`}\n                >\n                  Analyze\n                </button>\n                <button\n                  onClick={() => setCurrentPage('samples')}\n                  className={`px-4 py-2 rounded-xl font-medium ${currentPage === 'samples' ? 'bg-[#1e90ff] text-white' : 'text-gray-300 hover:bg-gray-800'}`}\n                >\n                  Samples\n                </button>\n                <button\n                  onClick={() => setCurrentPage('simulation')}\n                  className={`px-4 py-2 rounded-xl font-medium ${currentPage === 'simulation' ? 'bg-[#1e90ff] text-white' : 'text-gray-300 hover:bg-gray-800'}`}\n                >\n                  Simulation\n                </button>\n\n                <button\n                  onClick={openAdminPanel}\n                  className=\"p-2.5 rounded-xl text-gray-300 hover:bg-gray-800\"\n                  title=\"Admin Panel\"\n                >\n                  <Settings size={18} />\n                </button>\n              </nav>\n\n              <img \n                src=\"/logo.png\" \n                alt=\"School Logo\" \n                className=\"h-11 w-11 object-cover rounded-none\"\n                onError={(e) => {\n                  e.target.src = 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%234F46E5\"/><text x=\"50\" y=\"60\" text-anchor=\"middle\" fill=\"white\" font-size=\"35\" font-family=\"Arial\" font-weight=\"bold\">HS</text></svg>';\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-5xl mx-auto px-6 py-8\">\n        {currentPage === 'analyze' ? (\n          <>\n            <div className=\"text-center mb-6\">\n              <h2 className=\"text-3xl font-bold mb-2\">{step === 'results' ? 'Your Speech Analysis (+/- 0.1)' : 'Analyze Your Speech'}</h2>\n              <p className=\"text-sm text-gray-300\">Master NEC Speaking with AI-powered feedback</p>\n            </div>\n\n            {error && (\n              <div className=\"mb-6 p-3 rounded-xl flex items-center gap-3 bg-red-700/10 border border-red-700/20\">\n                <AlertCircle size={18} />\n                <span className=\"font-medium\">{error}</span>\n              </div>\n            )}\n\n            <div className=\"rounded-xl p-6 bg-gray-800 border border-gray-700\">\n              {step === 'input' && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2 text-gray-200\">Speaking Question</label>\n                    <textarea\n                      value={topic}\n                      onChange={(e) => setTopic(e.target.value)}\n                      placeholder=\"Enter the topic or question you'll be speaking about...\"\n                      className=\"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-white placeholder-gray-500\"\n                      rows=\"4\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"justify-center flex items-center gap-3 px-4 py-3 rounded-xl font-semibold cursor-pointer bg-[#1e90ff] text-white\">\n                      <Upload size={18} />\n                      <span>Upload Audio File</span>\n                      <input\n                        type=\"file\"\n                        accept=\"audio/*\"\n                        onChange={handleFileUpload}\n                        className=\"hidden\"\n                      />\n                    </label>\n                  </div>\n\n                  <p className=\"text-xs text-gray-400 text-center\">Supported: MP3, WAV, M4A, WEBM, OGG â€¢ Max 5 minutes</p>\n                </div>\n              )}\n\n              {step === 'preview' && (\n                <div className=\"space-y-6 text-center\">\n                  <div className=\"inline-flex items-center justify-center w-20 h-20 mb-4 bg-gray-800 rounded-xl\">\n                    <FileAudio size={36} />\n                  </div>\n                  <div className=\"font-semibold\">{audioFile?.name}</div>\n\n                  <div className=\"flex justify-center gap-3\">\n                    <button onClick={togglePlayback} className=\"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gray-700 text-white\">\n                      {isPlaying ? <><Pause size={16} /> Pause</> : <><Play size={16} /> Preview</>}\n                    </button>\n                    <button onClick={analyzeAudio} className=\"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-[#1e90ff] text-white\">\n                      <CheckCircle size={16} /> Analyze Speech\n                    </button>\n                  </div>\n\n                  <audio ref={audioRef} src={audioURL} onEnded={() => setIsPlaying(false)} />\n                </div>\n              )}\n\n              {step === 'uploading' && (\n                <div className=\"text-center py-12\">\n                  <Loader className=\"animate-spin mx-auto mb-4 text-[#1e90ff]\" size={48} />\n                  <div className=\"font-semibold\">Analyzing your speech...</div>\n                </div>\n              )}\n\n              {step === 'results' && results && (\n                <div className=\"space-y-6\">\n                  <div className=\"text-center p-6 rounded-xl bg-gray-800 border border-gray-700\">\n                    <div className=\"text-5xl font-extrabold text-[#1e90ff]\">{results.scores.total.toFixed(2)}</div>\n                    <div className=\"text-sm text-gray-400\">out of 2.0</div>\n                  </div>\n\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    {[\n                      { label: 'ðŸ§  Content', score: results.scores.content, max: 0.9 },\n                      { label: 'ðŸŽ¯ Accuracy', score: results.scores.accuracy, max: 0.6 },\n                      { label: 'ðŸŽ™ï¸ Delivery', score: results.scores.delivery, max: 0.5 }\n                    ].map((item, idx) => (\n                      <div key={idx} className=\"p-4 rounded-xl bg-gray-800 border border-gray-700 text-center\">\n                        <div className=\"text-xs font-bold uppercase mb-2 text-gray-300\">{item.label}</div>\n                        <div className={`text-2xl font-black ${getScoreColor(item.score, item.max)}`}>{item.score.toFixed(2)}</div>\n                        <div className=\"text-xs text-gray-400\">/ {item.max.toFixed(1)}</div>\n                      </div>\n                    ))}\n                  </div>\n\n                  <div>\n                    <h3 className=\"text-lg font-bold mb-2\">Detailed Feedback</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                        <div className=\"font-semibold\">ðŸ§  Content</div>\n                        <div className=\"text-sm text-gray-300\">{results.feedback.content}</div>\n                      </div>\n                      <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                        <div className=\"font-semibold\">ðŸŽ¯ Accuracy</div>\n                        <div className=\"text-sm text-gray-300\">{results.feedback.accuracy}</div>\n                      </div>\n                      <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                        <div className=\"font-semibold\">ðŸŽ™ï¸ Delivery</div>\n                        <div className=\"text-sm text-gray-300\">{results.feedback.delivery}</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {results.sample_response && (\n                    <div className=\"p-4 rounded-xl bg-gray-800 border border-amber-800\">\n                      <h4 className=\"font-bold mb-2\">Sample 2.0 Response</h4>\n                      <div className=\"text-sm text-gray-300 whitespace-pre-line\">{results.sample_response}</div>\n                    </div>\n                  )}\n\n                  <div className=\"flex gap-3\">\n                    <button onClick={downloadDocument} className=\"inline-flex items-center justify-center gap-2 flex-1 py-3 rounded-xl bg-[#1e90ff] text-white\"><Download size={16} /> Download Report</button>\n                    <button onClick={reset} className=\"py-3 px-6 rounded-xl bg-gray-700\">New Analysis</button>\n                  </div>\n                </div>\n              )}\n            </div>\n\n         \n            \n          </>\n        ) : currentPage === 'samples' ? (\n          <SampleLibrary />\n        ) : (\n          <SimulationMode />\n        )}\n      </div>\n\n<Footer setCurrentPage={setCurrentPage} />\n\n      {showAdminPanel && isAuthenticated && <AdminPanel onClose={() => setShowAdminPanel(false)} />}\n    </div>\n  );\n}\n\nfunction SimulationMode() {\n  const [simStep, setSimStep] = useState('intro');\n  const [currentQuestion, setCurrentQuestion] = useState(null);\n  const [countdown, setCountdown] = useState(60);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedAudioURL, setRecordedAudioURL] = useState(null);\n  const [recordedBlob, setRecordedBlob] = useState(null);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n  const [micTested, setMicTested] = useState(false);\n\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const timerRef = useRef(null);\n\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n      if (recordedAudioURL) URL.revokeObjectURL(recordedAudioURL);\n    };\n  }, [recordedAudioURL]);\n\n  const testMicrophone = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      stream.getTracks().forEach(track => track.stop());\n      setMicTested(true);\n      alert('Microphone test successful! You can now proceed.');\n    } catch (err) {\n      alert('Microphone access denied. Please enable microphone permissions.');\n    }\n  };\n\n  const startSimulation = async () => {\n    if (!micTested) {\n      alert('Please test your microphone first!');\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/questions/random`);\n      const data = await response.json();\n      \n      if (data.error) {\n        setError('No questions available. Please add questions in admin panel.');\n        return;\n      }\n\n      setCurrentQuestion(data.question);\n      setSimStep('reading');\n      setCountdown(60);\n      \n      timerRef.current = setInterval(() => {\n        setCountdown(prev => {\n          if (prev <= 1) {\n            clearInterval(timerRef.current);\n            setSimStep('preparation');\n            setCountdown(300);\n            startPreparationTimer();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    } catch (err) {\n      setError('Failed to load question. Check your connection.');\n    }\n  };\n\n  const skipReading = () => {\n    clearInterval(timerRef.current);\n    setSimStep('preparation');\n    setCountdown(300);\n    startPreparationTimer();\n  };\n\n  const startPreparationTimer = () => {\n    timerRef.current = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timerRef.current);\n          startRecordingAuto();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  const startRecordingAuto = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setRecordedAudioURL(audioUrl);\n        setRecordedBlob(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n      setSimStep('recording');\n      setRecordingTime(0);\n\n      // Clear any existing timer first\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      \n      // Start new timer\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => {\n          const newTime = prev + 1;\n          if (newTime >= 300) {\n            clearInterval(timerRef.current);\n            timerRef.current = null;\n            stopRecording();\n            return 300;\n          }\n          return newTime;\n        });\n      }, 1000);\n    } catch (err) {\n      setError('Failed to start recording. Check microphone permissions.');\n    }\n  };\n\n  const stopRecording = () => {\n  if (timerRef.current) {\n    clearInterval(timerRef.current);\n    timerRef.current = null;\n  }\n  \n  if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\n    mediaRecorderRef.current.stop();\n    console.log('Recording stopped at:', recordingTime, 'seconds');\n  }\n  \n  setIsRecording(false);\n  setSimStep('playback');\n  };\n\n  const analyzeRecording = async () => {\n    if (!recordedBlob || !currentQuestion) return;\n\n    setSimStep('analyzing');\n\n    const formData = new FormData();\n    formData.append('audio', recordedBlob, 'recording.webm');\n    formData.append('topic', currentQuestion.question);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/analyze`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setResults(data);\n        setSimStep('results');\n      } else {\n        setError(data.error || 'Analysis failed');\n        setSimStep('playback');\n      }\n    } catch (err) {\n      setError('Connection failed. Make sure the backend is running.');\n      setSimStep('playback');\n    }\n  };\n\n  const resetSimulation = () => {\n    setSimStep('intro');\n    setCurrentQuestion(null);\n    setCountdown(60);\n    setRecordingTime(0);\n    setIsRecording(false);\n    if (recordedAudioURL) URL.revokeObjectURL(recordedAudioURL);\n    setRecordedAudioURL(null);\n    setRecordedBlob(null);\n    setResults(null);\n    setError(null);\n    if (timerRef.current) clearInterval(timerRef.current);\n  };\n\n  const downloadRecording = () => {\n    if (recordedBlob) {\n      const url = URL.createObjectURL(recordedBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `simulation_${Date.now()}.webm`;\n      a.click();\n      URL.revokeObjectURL(url);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  const getScoreColor = (score, max) => {\n    const percentage = (score / max) * 100;\n    if (percentage >= 80) return 'text-green-400';\n    if (percentage >= 60) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-6\">\n        <h2 className=\"text-3xl font-bold mb-2\">NEC Speaking Simulation</h2>\n        <p className=\"text-sm text-gray-300\">Experience the real test interface</p>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-3 rounded-xl flex items-center gap-3 bg-red-700/10 border border-red-700/20\">\n          <AlertCircle size={18} />\n          <span className=\"font-medium\">{error}</span>\n        </div>\n      )}\n\n      <div className=\"rounded-xl p-8 bg-gray-800 border border-gray-700\">\n        {simStep === 'intro' && (\n          <div className=\"text-center space-y-6\">\n            <div className=\"text-6xl mb-4\">ðŸŽ¤</div>\n            <h3 className=\"text-2xl font-bold\">NEC Speaking Simulation</h3>\n            <div className=\"text-left max-w-md mx-auto space-y-3 text-gray-300\">\n              <p className=\"flex items-start gap-2\">\n                <span className=\"text-[#1e90ff] font-bold\">â€¢</span>\n                <span>Please prepare pen and paper for drafting ideas</span>\n              </p>\n              <p className=\"flex items-start gap-2\">\n                <span className=\"text-[#1e90ff] font-bold\">â€¢</span>\n                <span>You will have 60 seconds to read the question</span>\n              </p>\n              <p className=\"flex items-start gap-2\">\n                <span className=\"text-[#1e90ff] font-bold\">â€¢</span>\n                <span>Then 5 minutes to prepare your response</span>\n              </p>\n              <p className=\"flex items-start gap-2\">\n                <span className=\"text-[#1e90ff] font-bold\">â€¢</span>\n                <span>Recording will last exactly 5 minutes</span>\n              </p>\n            </div>\n\n            <div className=\"space-y-3 pt-4\">\n              <button\n                onClick={testMicrophone}\n                className={`w-full py-3 rounded-xl font-semibold ${\n                  micTested ? 'bg-green-600 text-white' : 'bg-gray-700 text-white hover:bg-gray-600'\n                }`}\n              >\n                <div className=\"flex items-center justify-center gap-2\">\n                  <Mic size={18} />\n                  {micTested ? 'Microphone Ready âœ“' : 'Test Microphone'}\n                </div>\n              </button>\n\n              <button\n                onClick={startSimulation}\n                disabled={!micTested}\n                className={`w-full py-3 rounded-xl font-semibold ${\n                  micTested\n                    ? 'bg-[#1e90ff] text-white hover:bg-[#1a7be6]'\n                    : 'bg-gray-600 text-gray-400 cursor-not-allowed'\n                }`}\n              >\n                Start Simulation\n              </button>\n            </div>\n          </div>\n        )}\n\n        {simStep === 'reading' && currentQuestion && (\n          <div className=\"space-y-6\">\n            <div className=\"text-center\">\n              <div className=\"text-5xl font-extrabold text-[#1e90ff] mb-2\">{formatTime(countdown)}</div>\n              <div className=\"text-sm text-gray-400\">Time to read the question</div>\n            </div>\n\n            <div className=\"p-6 rounded-xl bg-gray-900 border border-gray-700\">\n              <div className=\"text-xs font-bold uppercase text-gray-400 mb-2\">Question {currentQuestion.id}</div>\n              <div className=\"text-sm font-semibold text-gray-300 mb-3\">{currentQuestion.topic}</div>\n              <div className=\"text-lg text-white\">{currentQuestion.question}</div>\n            </div>\n\n            <button\n              onClick={skipReading}\n              className=\"w-full py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\"\n            >\n              Finish Reading Question\n            </button>\n          </div>\n        )}\n\n        {simStep === 'preparation' && (\n          <div className=\"space-y-6 text-center\">\n            <div className=\"text-6xl mb-4\">âœï¸</div>\n            <h3 className=\"text-2xl font-bold\">Preparation Time</h3>\n            <div className=\"text-5xl font-extrabold text-[#1e90ff]\">{formatTime(countdown)}</div>\n            <div className=\"text-sm text-gray-400\">{currentQuestion.question}</div>\n            \n            <div className=\"w-full bg-gray-700 rounded-full h-3\">\n              <div\n                className=\"bg-[#1e90ff] h-3 rounded-full transition-all\"\n                style={{ width: `${((300 - countdown) / 300) * 100}%` }}\n              />\n            </div>\n\n          <button\n            onClick={() => {\n              clearInterval(timerRef.current);\n              startRecordingAuto();\n            }}\n            className=\"px-6 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold hover:bg-[#1a7be6]\"\n          >\n            Skip Preparation & Start Recording\n          </button>\n\n          </div>\n        )}\n\n        \n\n        {simStep === 'recording' && (\n          <div className=\"space-y-6 text-center\">\n            <div className=\"flex items-center justify-center\">\n              <Circle className=\"text-red-500 animate-pulse\" size={48} fill=\"currentColor\" />\n            </div>\n            <h3 className=\"text-2xl font-bold text-red-500\">Recording...</h3>\n            <div className=\"text-5xl font-extrabold text-white\">{formatTime(recordingTime)}</div>\n            <div className=\"text-sm text-gray-400\">{currentQuestion.question}</div>\n            \n            <div className=\"w-full bg-gray-700 rounded-full h-3\">\n              <div\n                className=\"bg-red-500 h-3 rounded-full transition-all\"\n                style={{ width: `${(recordingTime / 300) * 100}%` }}\n              />\n            </div>\n\n            <button\n              onClick={stopRecording}\n              className=\"px-6 py-3 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700\"\n            >\n              Stop Recording Early\n            </button>\n          </div>\n        )}\n\n        {simStep === 'playback' && (\n          <div className=\"space-y-6 text-center\">\n            <div className=\"text-6xl mb-4\">âœ…</div>\n            <h3 className=\"text-2xl font-bold\">Recording Complete!</h3>\n            <div className=\"text-gray-300\">Duration: {formatTime(recordingTime)}</div>\n\n            <AudioPlayback audioUrl={recordedAudioURL} />\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={analyzeRecording}\n                className=\"flex-1 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\"\n              >\n                Analyze My Speech\n              </button>\n              <button\n                onClick={downloadRecording}\n                className=\"px-6 py-3 rounded-xl bg-gray-700 text-white font-semibold\"\n              >\n                <Download size={18} />\n              </button>\n            </div>\n\n            <button\n              onClick={resetSimulation}\n              className=\"w-full py-3 rounded-xl bg-gray-700 text-white\"\n            >\n              Start New Simulation\n            </button>\n          </div>\n        )}\n\n        {simStep === 'analyzing' && (\n          <div className=\"text-center py-12\">\n            <Loader className=\"animate-spin mx-auto mb-4 text-[#1e90ff]\" size={48} />\n            <div className=\"font-semibold\">Analyzing your speech...</div>\n          </div>\n        )}\n\n        {simStep === 'results' && results && (\n          <div className=\"space-y-6\">\n            <h3 className=\"text-2xl font-bold text-center\">Your Results</h3>\n            \n            <div className=\"text-center p-6 rounded-xl bg-gray-800 border border-gray-700\">\n              <div className=\"text-5xl font-extrabold text-[#1e90ff]\">{results.scores.total.toFixed(2)}</div>\n              <div className=\"text-sm text-gray-400\">out of 2.0</div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              {[\n                { label: 'ðŸ§  Content', score: results.scores.content, max: 0.9 },\n                { label: 'ðŸŽ¯ Accuracy', score: results.scores.accuracy, max: 0.6 },\n                { label: 'ðŸŽ™ï¸ Delivery', score: results.scores.delivery, max: 0.5 }\n              ].map((item, idx) => (\n                <div key={idx} className=\"p-4 rounded-xl bg-gray-800 border border-gray-700 text-center\">\n                  <div className=\"text-xs font-bold uppercase mb-2 text-gray-300\">{item.label}</div>\n                  <div className={`text-2xl font-black ${getScoreColor(item.score, item.max)}`}>{item.score.toFixed(2)}</div>\n                  <div className=\"text-xs text-gray-400\">/ {item.max.toFixed(1)}</div>\n                </div>\n              ))}\n            </div>\n\n            <div>\n              <h3 className=\"text-lg font-bold mb-2\">Detailed Feedback</h3>\n              <div className=\"space-y-3\">\n                <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                  <div className=\"font-semibold\">ðŸ§  Content</div>\n                  <div className=\"text-sm text-gray-300\">{results.feedback.content}</div>\n                </div>\n                <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                  <div className=\"font-semibold\">ðŸŽ¯ Accuracy</div>\n                  <div className=\"text-sm text-gray-300\">{results.feedback.accuracy}</div>\n                </div>\n                <div className=\"p-3 rounded-xl bg-gray-800 border border-gray-700\">\n                  <div className=\"font-semibold\">ðŸŽ™ï¸ Delivery</div>\n                  <div className=\"text-sm text-gray-300\">{results.feedback.delivery}</div>\n                </div>\n              </div>\n            </div>\n\n            {results.sample_response && (\n              <div className=\"p-4 rounded-xl bg-gray-800 border border-amber-800\">\n                <h4 className=\"font-bold mb-2\">Sample 2.0 Response</h4>\n                <div className=\"text-sm text-gray-300 whitespace-pre-line\">{results.sample_response}</div>\n              </div>\n            )}\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => window.open(`http://127.0.0.1:5000${results.document_url}`, '_blank')}\n                className=\"flex-1 py-3 rounded-xl bg-[#1e90ff] text-white font-semibold\"\n              >\n                <div className=\"flex items-center justify-center gap-2\">\n                  <Download size={16} />\n                  Download Report\n                </div>\n              </button>\n              <button\n                onClick={downloadRecording}\n                className=\"px-6 py-3 rounded-xl bg-gray-700 text-white font-semibold\"\n              >\n                <Download size={18} />\n              </button>\n            </div>\n\n            <button\n              onClick={resetSimulation}\n              className=\"w-full py-3 rounded-xl bg-gray-700 text-white\"\n            >\n              Start New Simulation\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction AudioPlayback({ audioUrl }) {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const audioRef = useRef(null);\n\n  const togglePlay = () => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const handleTimeUpdate = () => {\n    const audio = audioRef.current;\n    if (audio && audio.duration) {\n      setCurrentTime(audio.currentTime);\n      setProgress((audio.currentTime / audio.duration) * 100);\n    }\n  };\n\n  const handleSeek = (e) => {\n    const audio = audioRef.current;\n    if (audio && audio.duration) {\n      const newTime = (e.target.value / 100) * audio.duration;\n      audio.currentTime = newTime;\n    }\n  };\n\n  const formatTime = (time) => {\n    const mins = Math.floor(time / 60);\n    const secs = Math.floor(time % 60);\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-900 rounded-xl border border-gray-700\">\n      <audio\n        ref={audioRef}\n        src={audioUrl}\n        onTimeUpdate={handleTimeUpdate}\n        onLoadedMetadata={() => setDuration(audioRef.current.duration)}\n        onEnded={() => setIsPlaying(false)}\n      />\n      \n      <div className=\"flex items-center gap-4\">\n        <button\n          onClick={togglePlay}\n          className=\"flex items-center justify-center w-12 h-12 rounded-full bg-[#1e90ff] text-white hover:bg-[#1a7be6] transition\"\n        >\n          {isPlaying ? <Pause size={20} /> : <Play size={20} />}\n        </button>\n\n        <div className=\"flex-1\">\n          <input\n            type=\"range\"\n            value={progress}\n            onChange={handleSeek}\n            className=\"w-full accent-[#1e90ff]\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n            <span>{formatTime(currentTime)}</span>\n            <span>{formatTime(duration)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction PlaybackBar({ audioUrl, onClose }) {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const audioRef = useRef(null);\n\n  const togglePlay = () => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const handleTimeUpdate = () => {\n    const audio = audioRef.current;\n    if (audio && audio.duration) {\n      setCurrentTime(audio.currentTime);\n      setProgress((audio.currentTime / audio.duration) * 100);\n    }\n  };\n\n  const handleSeek = (e) => {\n    const audio = audioRef.current;\n    const newTime = (e.target.value / 100) * audio.duration;\n    audio.currentTime = newTime;\n  };\n\n  const formatTime = (time) => {\n    const mins = Math.floor(time / 60);\n    const secs = Math.floor(time % 60);\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 z-50 bg-[#000] border-t border-[#222] p-3 flex items-center justify-between gap-4\">\n      <audio\n        ref={audioRef}\n        src={audioUrl}\n        onTimeUpdate={handleTimeUpdate}\n        onLoadedMetadata={() => setDuration(audioRef.current.duration)}\n        onEnded={() => setIsPlaying(false)}\n      />\n      <button\n        onClick={togglePlay}\n        className=\"flex items-center justify-center w-10 h-10 rounded-full bg-[#1e90ff] text-white hover:bg-[#1a7be6] transition\"\n      >\n        {isPlaying ? <Pause size={20} /> : <Play size={20} />}\n      </button>\n\n      <div className=\"flex-1 flex flex-col items-center text-sm text-[#d1d1d1]\">\n        <input\n          type=\"range\"\n          value={progress}\n          onChange={handleSeek}\n          className=\"w-full accent-[#1e90ff]\"\n        />\n        <div className=\"flex justify-between w-full text-xs text-[#888] mt-1\">\n          <span>{formatTime(currentTime)}</span>\n          <span>{formatTime(duration)}</span>\n        </div>\n      </div>\n\n      <button onClick={onClose} className=\"text-[#888] hover:text-[#d1d1d1]\">Ã—</button>\n    </div>\n  );\n}\n\nfunction AdminPanel({ onClose }) {\n  const [activeTab, setActiveTab] = useState('upload');\n  const [audioFile, setAudioFile] = useState(null);\n  const [topic, setTopic] = useState('');\n  const [question, setQuestion] = useState('');\n  const [speaker, setSpeaker] = useState('');\n  const [score, setScore] = useState('2.0');\n  const [transcript, setTranscript] = useState('');\n  const [feedback, setFeedback] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [samples, setSamples] = useState([]);\n  const [loadingSamples, setLoadingSamples] = useState(true);\n  const [editingId, setEditingId] = useState(null);\n  const [editData, setEditData] = useState({});\n\n  const [questions, setQuestions] = useState([]);\n  const [loadingQuestions, setLoadingQuestions] = useState(true);\n  const [newQuestionTopic, setNewQuestionTopic] = useState('');\n  const [newQuestionText, setNewQuestionText] = useState('');\n  const [newQuestionCategory, setNewQuestionCategory] = useState('General');\n  const [editingQuestionId, setEditingQuestionId] = useState(null);\n  const [editQuestionData, setEditQuestionData] = useState({});\n\n  useEffect(() => {\n    if (activeTab === 'manage') fetchSamples();\n    if (activeTab === 'questions') fetchQuestions();\n  }, [activeTab]);\n\n  const fetchSamples = async () => {\n    setLoadingSamples(true);\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/samples`);\n      const data = await res.json();\n      setSamples(data.samples || []);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoadingSamples(false);\n    }\n  };\n\n  const fetchQuestions = async () => {\n    setLoadingQuestions(true);\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/questions`);\n      const data = await res.json();\n      setQuestions(data.questions || []);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoadingQuestions(false);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!audioFile || !topic || !speaker || !transcript || !feedback) {\n      setMessage('Please fill in all fields');\n      return;\n    }\n\n    setUploading(true);\n    setMessage('');\n\n    const formData = new FormData();\n    formData.append('audio', audioFile);\n    formData.append('topic', topic);\n    formData.append('question', question);\n    formData.append('speaker', speaker);\n    formData.append('score', score);\n    formData.append('transcript', transcript);\n    formData.append('feedback', feedback);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/samples/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage('âœ“ Sample uploaded successfully!');\n        setAudioFile(null);\n        setTopic('');\n        setQuestion('');\n        setSpeaker('');\n        setScore('2.0');\n        setTranscript('');\n        setFeedback('');\n      } else setMessage('Error: ' + (data.error || 'Upload failed'));\n    } catch (err) {\n      setMessage('Error: Connection failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const startEdit = (sample) => {\n    setEditingId(sample.id);\n    setEditData({\n      topic: sample.topic || '',\n      question: sample.question || '',\n      speaker: sample.speaker || '',\n      score: String(sample.score || ''),\n      transcript: sample.transcript || '',\n      feedback: sample.feedback || '',\n    });\n  };\n\n  const cancelEdit = () => {\n    setEditingId(null);\n    setEditData({});\n  };\n\n  const saveEdit = async () => {\n    try {\n      const form = new FormData();\n      form.append('topic', editData.topic);\n      form.append('speaker', editData.speaker);\n      form.append('score', editData.score);\n      form.append('question', editData.question);\n      form.append('transcript', editData.transcript);\n      form.append('feedback', editData.feedback);\n\n      const res = await fetch(`${API_BASE_URL}/samples/${editingId}`, {\n        method: 'PUT',\n        body: form,\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('âœ“ Updated successfully');\n        await fetchSamples();\n        cancelEdit();\n      } else setMessage('Error: ' + (data.error || 'Update failed'));\n    } catch (e) {\n      setMessage('Error: Connection failed');\n    }\n  };\n\n  const deleteSample = async (id) => {\n    if (!confirm('Delete this sample?')) return;\n    try {\n      const res = await fetch(`${API_BASE_URL}/samples/${id}`, {\n        method: 'DELETE',\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('âœ“ Deleted successfully');\n        await fetchSamples();\n      } else setMessage('Error: ' + (data.error || 'Delete failed'));\n    } catch (e) {\n      setMessage('Error: Connection failed');\n    }\n  };\n\n  const addQuestion = async () => {\n    if (!newQuestionTopic || !newQuestionText) {\n      setMessage('Please fill in topic and question');\n      return;\n    }\n\n    try {\n      const res = await fetch(`${API_BASE_URL}/questions`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          topic: newQuestionTopic,\n          question: newQuestionText,\n          category: newQuestionCategory,\n        }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('âœ“ Question added successfully!');\n        setNewQuestionTopic('');\n        setNewQuestionText('');\n        setNewQuestionCategory('General');\n        await fetchQuestions();\n      } else setMessage('Error: ' + (data.error || 'Failed to add question'));\n    } catch (e) {\n      setMessage('Error: Connection failed');\n    }\n  };\n\n  const startEditQuestion = (q) => {\n    setEditingQuestionId(q.id);\n    setEditQuestionData({\n      topic: q.topic || '',\n      question: q.question || '',\n      category: q.category || 'General',\n    });\n  };\n\n  const cancelEditQuestion = () => {\n    setEditingQuestionId(null);\n    setEditQuestionData({});\n  };\n\n  const saveEditQuestion = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/questions/${editingQuestionId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(editQuestionData),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('âœ“ Question updated');\n        await fetchQuestions();\n        cancelEditQuestion();\n      } else setMessage('Error: ' + (data.error || 'Update failed'));\n    } catch (e) {\n      setMessage('Error: Connection failed');\n    }\n  };\n\n  const deleteQuestion = async (id) => {\n    if (!confirm('Delete this question?')) return;\n    try {\n      const res = await fetch(`${API_BASE_URL}/questions/${id}`, {\n        method: 'DELETE',\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('âœ“ Question deleted');\n        await fetchQuestions();\n      } else setMessage('Error: ' + (data.error || 'Delete failed'));\n    } catch (e) {\n      setMessage('Error: Connection failed');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n      <div className=\"rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6 bg-gray-800 border border-gray-700\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <Lock size={18} />\n            <h2 className=\"text-2xl font-bold\">Admin Panel</h2>\n          </div>\n          <button onClick={onClose} className=\"text-xl font-bold\">Ã—</button>\n        </div>\n\n        {message && <div className=\"mb-4 p-3 rounded-md bg-green-700/10 border border-green-700/20\">{message}</div>}\n\n        <div className=\"mb-4 flex gap-2 flex-wrap\">\n          <button onClick={() => setActiveTab('upload')} className={`px-3 py-2 rounded ${activeTab === 'upload' ? 'bg-[#1e90ff] text-white' : 'bg-gray-700'}`}>Upload Sample</button>\n          <button onClick={() => setActiveTab('manage')} className={`px-3 py-2 rounded ${activeTab === 'manage' ? 'bg-[#1e90ff] text-white' : 'bg-gray-700'}`}>Manage Samples</button>\n          <button onClick={() => setActiveTab('questions')} className={`px-3 py-2 rounded ${activeTab === 'questions' ? 'bg-[#1e90ff] text-white' : 'bg-gray-700'}`}>Question Bank</button>\n        </div>\n\n        {activeTab === 'upload' ? (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Audio File *</label>\n              <input type=\"file\" accept=\"audio/*\" onChange={(e) => setAudioFile(e.target.files[0])} className=\"w-full text-sm\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Topic *</label>\n              <input value={topic} onChange={(e) => setTopic(e.target.value)} className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Speaking Question</label>\n              <textarea\n                value={question}\n                onChange={(e) => setQuestion(e.target.value)}\n                rows=\"2\"\n                className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Speaker *</label>\n              <input value={speaker} onChange={(e) => setSpeaker(e.target.value)} className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Score *</label>\n              <input value={score} onChange={(e) => setScore(e.target.value)} className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Transcript *</label>\n              <textarea value={transcript} onChange={(e) => setTranscript(e.target.value)} rows=\"5\" className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"></textarea>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold mb-1\">Why This Sample Scored High *</label>\n              <textarea value={feedback} onChange={(e) => setFeedback(e.target.value)} rows=\"4\" className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\"></textarea>\n            </div>\n\n            <button onClick={handleUpload} disabled={uploading} className=\"w-full py-3 rounded bg-[#1e90ff] text-white\">\n              {uploading ? 'Uploading...' : 'Upload Sample'}\n            </button>\n          </div>\n        ) : activeTab === 'manage' ? (\n          <div>\n            {loadingSamples ? (\n              <div className=\"text-center py-8\"><Loader className=\"animate-spin mx-auto mb-2\" size={36} /><div>Loading samples...</div></div>\n            ) : (\n              <div className=\"space-y-3\">\n                {samples.map(s => (\n                  <div key={s.id} className=\"p-3 bg-gray-900 border border-gray-700 rounded flex flex-col gap-2\">\n                    <div className=\"flex justify-between items-start gap-3\">\n                      <div>\n                        <div className=\"font-bold\">{s.topic}</div>\n                        <div className=\"text-xs text-gray-400\">{s.speaker} â€¢ {s.score}/2.0</div>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <button onClick={() => startEdit(s)} className=\"px-2 py-1 rounded bg-blue-600 text-white\"><Edit3 size={14} /></button>\n                        <button onClick={() => deleteSample(s.id)} className=\"px-2 py-1 rounded bg-red-600 text-white\"><Trash2 size={14} /></button>\n                        <a href={s.audioUrl} target=\"_blank\" rel=\"noreferrer\" className=\"px-2 py-1 rounded bg-gray-700\">Open</a>\n                      </div>\n                    </div>\n\n                    {editingId === s.id ? (\n                      <div className=\"pt-2 space-y-2\">\n                        <input value={editData.topic} onChange={(e) => setEditData({ ...editData, topic: e.target.value })} placeholder=\"Topic\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\" />\n                        <input value={editData.speaker} onChange={(e) => setEditData({ ...editData, speaker: e.target.value })} placeholder=\"Speaker\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\" />\n                        <input value={editData.score} onChange={(e) => setEditData({ ...editData, score: e.target.value })} placeholder=\"Score\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\" />\n                        <textarea value={editData.question} onChange={(e) => setEditData({ ...editData, question: e.target.value })} rows=\"2\" placeholder=\"Question\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"></textarea>\n                        <textarea value={editData.transcript} onChange={(e) => setEditData({ ...editData, transcript: e.target.value })} rows=\"3\" placeholder=\"Transcript\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"></textarea>\n                        <textarea value={editData.feedback} onChange={(e) => setEditData({ ...editData, feedback: e.target.value })} rows=\"2\" placeholder=\"Feedback\" className=\"w-full px-2 py-1 rounded bg-gray-900 border border-gray-700\"></textarea>\n                        <div className=\"flex gap-2\">\n                          <button onClick={saveEdit} className=\"px-3 py-2 rounded bg-green-600\">Save</button>\n                          <button onClick={cancelEdit} className=\"px-3 py-2 rounded bg-gray-700\">Cancel</button>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"p-4 bg-gray-900 rounded-xl border border-gray-700\">\n              <h3 className=\"font-bold mb-3\">Add New Question</h3>\n              <div className=\"space-y-3\">\n                <input\n                  value={newQuestionTopic}\n                  onChange={(e) => setNewQuestionTopic(e.target.value)}\n                  placeholder=\"Source\"\n                  className=\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"\n                />\n                <textarea\n                  value={newQuestionText}\n                  onChange={(e) => setNewQuestionText(e.target.value)}\n                  placeholder=\"Question text...\"\n                  rows=\"3\"\n                  className=\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"\n                ></textarea>\n                <input\n                  value={newQuestionCategory}\n                  onChange={(e) => setNewQuestionCategory(e.target.value)}\n                  placeholder=\"Category (optional)\"\n                  className=\"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700\"\n                />\n                <button\n                  onClick={addQuestion}\n                  className=\"w-full py-2 rounded bg-[#1e90ff] text-white font-semibold\"\n                >\n                  Add Question\n                </button>\n              </div>\n            </div>\n\n            <div>\n              <h3 className=\"font-bold mb-3\">Question Bank ({questions.length} questions)</h3>\n              {loadingQuestions ? (\n                <div className=\"text-center py-8\"><Loader className=\"animate-spin mx-auto\" size={36} /></div>\n              ) : questions.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-400\">No questions yet. Add your first question above!</div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {questions.map(q => (\n                    <div key={q.id} className=\"p-3 bg-gray-900 border border-gray-700 rounded\">\n                      {editingQuestionId === q.id ? (\n                        <div className=\"space-y-2\">\n                          <input\n                            value={editQuestionData.topic}\n                            onChange={(e) => setEditQuestionData({ ...editQuestionData, topic: e.target.value })}\n                            className=\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"\n                          />\n                          <textarea\n                            value={editQuestionData.question}\n                            onChange={(e) => setEditQuestionData({ ...editQuestionData, question: e.target.value })}\n                            rows=\"3\"\n                            className=\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"\n                          ></textarea>\n                          <input\n                            value={editQuestionData.category}\n                            onChange={(e) => setEditQuestionData({ ...editQuestionData, category: e.target.value })}\n                            className=\"w-full px-2 py-1 rounded bg-gray-800 border border-gray-700\"\n                          />\n                          <div className=\"flex gap-2\">\n                            <button onClick={saveEditQuestion} className=\"px-3 py-2 rounded bg-green-600\">Save</button>\n                            <button onClick={cancelEditQuestion} className=\"px-3 py-2 rounded bg-gray-700\">Cancel</button>\n                          </div>\n                        </div>\n                      ) : (\n                        <>\n                          <div className=\"flex justify-between items-start mb-2\">\n                            <div>\n                              <div className=\"font-bold\">{q.topic}</div>\n                              <div className=\"text-xs text-gray-400\">{q.category}</div>\n                            </div>\n                            <div className=\"flex gap-2\">\n                              <button onClick={() => startEditQuestion(q)} className=\"px-2 py-1 rounded bg-blue-600\"><Edit3 size={14} /></button>\n                              <button onClick={() => deleteQuestion(q.id)} className=\"px-2 py-1 rounded bg-red-600\"><Trash2 size={14} /></button>\n                            </div>\n                          </div>\n                          <div className=\"text-sm text-gray-300\">{q.question}</div>\n                        </>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction SampleLibrary() {\n  const [samples, setSamples] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSample, setSelectedSample] = useState(null);\n  const [playingId, setPlayingId] = useState(null);\n  const audioRef = useRef(null);\n\n  useEffect(() => { fetchSamples(); }, []);\n\n  const fetchSamples = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/samples`);\n      const data = await res.json();\n      setSamples(data.samples || []);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredSamples = samples.filter(sample =>\n    sample.topic.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    (sample.speaker || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n    (sample.tags || []).some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\n  );\n\n  const toggleAudio = (sampleId, audioUrl) => {\n    if (playingId === sampleId) {\n      audioRef.current?.pause();\n      setPlayingId(null);\n    } else {\n      if (audioRef.current) {\n        audioRef.current.src = audioUrl;\n        audioRef.current.play();\n        setPlayingId(sampleId);\n      }\n    }\n  };\n\n  const downloadAudio = (filename) => {\n    const link = document.createElement('a');\n    link.href = `${API_BASE_URL}/api/samples/download/${filename}`;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  if (loading) return (<div className=\"text-center py-12\"><Loader className=\"animate-spin mx-auto mb-2\" size={36} /><div>Loading samples...</div></div>);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold mb-1\">Sample Library</h2>\n        <p className=\"text-sm text-gray-400\">Learn from high-scoring speeches</p>\n      </div>\n\n      <div className=\"p-3 bg-gray-800 border border-gray-700 rounded\">\n        <input type=\"text\" placeholder=\"Search by topic, speaker, or tag...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"w-full px-3 py-2 rounded bg-gray-900 border border-gray-700\" />\n      </div>\n\n      {filteredSamples.length === 0 ? (\n        <div className=\"text-center p-6 bg-gray-800 border border-gray-700 rounded\">No samples found</div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {filteredSamples.map(sample => (\n            <div key={sample.id} className=\"p-4 bg-gray-800 border border-gray-700 rounded\">\n              <div className=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div className=\"font-bold\">{sample.topic}</div>\n                  <div className=\"text-xs text-gray-400\">{sample.speaker}</div>\n                </div>\n                <div className=\"text-2xl font-black text-[#1e90ff]\">{sample.score}</div>\n              </div>\n\n              <div className=\"mb-2 text-sm text-[#d1d1d1] italic\">{sample.question || '(no question provided)'}</div>\n              <div className=\"flex gap-2\">\n                <button onClick={() => toggleAudio(sample.id, sample.audioUrl)} className=\"px-3 py-2 rounded bg-gray-700\">Playback</button>\n                <button onClick={() => downloadAudio(sample.filename)} className=\"px-3 py-2 rounded bg-gray-700\">Download</button>\n                <button onClick={() => setSelectedSample(sample)} className=\"px-3 py-2 rounded bg-[#1e90ff] text-white\">View</button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <audio ref={audioRef} onEnded={() => setPlayingId(null)} onPause={() => setPlayingId(null)} />\n      {playingId && (<PlaybackBar audioUrl={samples.find(s => s.id === playingId)?.audioUrl} onClose={() => {audioRef.current?.pause(); setPlayingId(null);}}/>)}\n\n      {selectedSample && (\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n          <div className=\"rounded-xl max-w-3xl w-full max-h-[85vh] overflow-y-auto p-6 bg-gray-800 border border-gray-700\">\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 className=\"text-2xl font-bold mb-1\">{selectedSample.topic}</h3>\n                <div className=\"text-sm text-gray-400\">{selectedSample.speaker} â€¢ {selectedSample.score}/2.0</div>\n              </div>\n              <button onClick={() => setSelectedSample(null)} className=\"text-xl font-bold\">Ã—</button>\n            </div>\n\n            {selectedSample.transcript && (\n              <div className=\"mb-4\">\n                <h4 className=\"font-bold mb-2\">Transcript</h4>\n                <div className=\"p-3 rounded bg-gray-900 border border-gray-700 text-sm text-gray-300\">{selectedSample.transcript}</div>\n              </div>\n            )}\n\n            {selectedSample.feedback && (\n              <div>\n                <h4 className=\"font-bold mb-2\">Why This Speech Scored High</h4>\n                <div className=\"p-3 rounded bg-gray-900 border border-gray-700 text-sm text-gray-300\">{selectedSample.feedback}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction Footer({ setCurrentPage }) {\n  return (\n    <footer className=\"mt-16 border-t border-[#222] bg-black\">\n      <div className=\"max-w-7xl mx-auto px-12 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 text-left\">\n          {/* About Section */}\n          <div className=\"flex flex-col\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">necs.</h3>\n            <p className=\"text-sm text-gray-400\">\n              AI-powered speech analysis platform for NEC Speaking preparation. Practice, improve, and excel.\n            </p>\n          </div>\n\n          {/* Quick Links */}\n          <div className=\"flex flex-col\">\n            <h4 className=\"text-lg font-semibold text-white mb-4\">Quick Links</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li><button onClick={() => setCurrentPage('analyze')} className=\"text-gray-400 hover:text-[#1e90ff] transition\">Speech Evaluation</button></li>\n              <li><button onClick={() => setCurrentPage('samples')} className=\"text-gray-400 hover:text-[#1e90ff] transition\">Sample Library</button></li>\n              <li><button onClick={() => setCurrentPage('simulation')} className=\"text-gray-400 hover:text-[#1e90ff] transition\">NEC Speaking Simulation</button></li>\n              <li><button onClick={() => window.open('/necs_user_manual.pdf', '_blank')} className=\"text-gray-400 hover:text-[#1e90ff] transition\"> necs. User Manual </button></li>\n            </ul>\n          </div>\n\n          {/* Developer */}\n          <div className=\"flex flex-col\">\n            <h4 className=\"text-lg font-semibold text-white mb-4\">Connect with me</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li><a href=\"https://facebook.com/notmtri\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              Facebook\n              </a></li>\n              <li><a href=\"https://youtube.com/@therealmtri\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              YouTube\n              </a></li>\n              <li><a href=\"https://instagram.com/notmtri\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              Instagram\n              </a></li>\n              <li><a href=\"mailto:nguyenhoangminhtri2k8@gmail.com\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              Email\n              </a></li>\n            </ul>\n          </div>\n\n          {/* Contact NECS */}\n          <div className=\"flex flex-col\">\n            <h4 className=\"text-lg font-semibold text-white mb-4\">Contact necs.</h4>\n            <ul className=\"space-y-2 text-sm\">\n              <li><a href=\"https://instagram.com/necspeaking\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              Instagram\n              </a></li>\n              <li><a href=\"mailto:necspeaking@gmail.com\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              Email\n              </a></li>\n              <li><a href=\"https://forms.gle/rshYXP6niQ7NR3G68\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              For User Feedback\n              </a></li>\n              <li><a href=\"https://forms.gle/SKY6RSRoQXLehJUL6\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-gray-400 hover:text-[#1e90ff] transition flex items-center gap-2\">\n              For Samples Contributions\n              </a></li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Bottom Bar */}\n        <div className=\"mt-12 pt-8 border-t border-[#222] text-center\">\n          <p className=\"text-sm text-gray-400\">\n            Developed by Nguyen Hoang Minh Tri | English 1 (23-26) | HSGS Le Quy Don - Nam Nha Trang\n          </p>\n          \n        </div>\n      </div>\n    </footer>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}